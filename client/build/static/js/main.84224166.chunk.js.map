{"version":3,"sources":["constant/actionTypes.js","reducers/post.js","reducers/auth.js","reducers/index.js","api/index.js","actions/post.js","components/Posts/Post/styles.js","components/Posts/Post/Post.js","components/Posts/styles.js","components/Posts/Posts.js","components/Form/styles.js","components/Form/Form.js","styles.js","components/Home/Home.js","images/memories.png","components/Navbar/styles.js","components/Navbar/Navbar.js","components/Auth/styles.js","components/Auth/Input.js","components/Auth/Icon.js","actions/auth.js","components/Auth/Auth.js","App.js","index.js"],"names":["CREATE","UPDATE","DELETE","FETCH_ALL","LIKE","AUTH","LOGOUT","DONE","REQUEST","REQUEST_AUTH","initialPosts","loading","posts","initialUser","authData","googleLoading","userId","reducers","combineReducers","undoable","type","payload","map","post","_id","filter","auth","user","action","localStorage","setItem","JSON","stringify","result","clear","API","axios","create","baseURL","interceptors","request","use","req","getItem","headers","authorization","parse","token","likePost","id","patch","unlikePost","updatePost","updatedPost","deletePost","delete","signIn","formData","signUp","googleLogin","remove","changeLikeCount","getState","isLikeByMe","find","p","likeUser","likeNumber","createPost","dispatch","a","newPost","data","Notify","Success","console","log","message","Failure","api","makeStyles","media","height","paddingTop","backgroundColor","backgroundBlendMode","border","fullHeightCard","card","display","flexDirection","justifyContent","borderRadius","position","overlay","top","left","color","overlay2","right","grid","details","margin","title","padding","cardActions","Post","setCurrentId","classes","useStyles","useDispatch","includes","isCreatedByMe","creator","Likes","fontSize","Card","className","CardMedia","image","selectedFile","Typography","variant","userName","moment","createdAt","fromNow","Button","style","minWidth","size","onClick","window","scrollTo","behavior","component","tags","tag","gutterBottom","CardContent","CardActions","disabled","optimisticAction","postData","undo","response","changeLike","theme","mainContainer","alignItems","smMargin","spacing","actionDiv","textAlign","Posts","useSelector","state","length","Paper","align","Grid","container","item","xs","sm","md","CircularProgress","circularProgress","root","paper","form","flexWrap","fileInput","width","buttonSubmit","marginBottom","Form","currentId","useState","setPostData","status","setStatus","useEffect","handleSubmit","e","preventDefault","name","bottom","error","addValue","target","value","autoComplete","onSubmit","TextField","label","fullWidth","onChange","required","multiline","row","split","multiple","onDone","base64","breakpoints","down","setMaxWidth","maxWidth","alignSelf","appBar","background","Home","get","Grow","in","Container","justify","heading","textDecoration","marginLeft","toolbar","profile","brandContainer","purple","palette","getContrastText","deepPurple","break","flexBasis","logout","marginTop","Navbar","history","useHistory","location","useLocation","setUser","decode","exp","Date","getTime","push","AppBar","Link","to","src","mem","alt","Toolbar","Avatar","imageUrl","charAt","avatar","secondary","main","submit","googleButton","Input","handleChange","half","autoFocus","handleShowPassword","InputProps","endAdornment","InputAdornment","IconButton","icon","viewBox","fill","d","router","initialState","firstName","lastName","email","password","confirmPassword","Auth","isSignup","setIsSignup","showPassword","setShowPassword","setFormData","googleSuccess","res","profileObj","tokenId","elevation","signup","signin","pre","clientId","process","render","renderProps","startIcon","Icon","onSuccess","onFailure","cookiePolicy","prevIsSignup","App","Init","closeButton","failure","notiflixIconColor","path","exact","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.84224166.chunk.js","sourcesContent":["export const CREATE = 'CREATE';\r\nexport const UPDATE = 'UPDATE';\r\nexport const DELETE = 'DELETE';\r\nexport const FETCH_ALL = 'FETCH_ALL';\r\nexport const LIKE = 'LIKE';\r\nexport const AUTH = 'AUTH';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const DONE = 'DONE';\r\nexport const REQUEST = 'REQUEST'\r\nexport const REQUEST_AUTH = \"REQUEST_AUTH\"\r\nexport const GOOGLE_AUTH = \"GOOGLE_AUTH\"","import { FETCH_ALL, CREATE, UPDATE, DELETE, LIKE,REQUEST,DONE } from '../constant/actionTypes'\r\n\r\nconst initialPosts = {\r\n  loading:false,\r\n  posts:null\r\n}\r\n\r\n\r\nexport default  function PostReducer(posts = initialPosts, { type, payload }) {\r\n  switch (type) {\r\n    case FETCH_ALL:\r\n      return {...posts,posts:payload};\r\n    case CREATE:\r\n      return {...posts, posts : [...posts.posts,payload] ,loading:false };\r\n    case UPDATE:\r\n    case LIKE:\r\n      return {...posts , posts :  posts.posts.map((post) => (post._id === payload._id ? payload : post)) ,   loading:false}; \r\n    case DELETE:\r\n      return {...posts , posts: posts.posts.filter((post) => post._id !== payload)};\r\n    case REQUEST :\r\n      return { ...posts , loading: payload }\r\n    case DONE:\r\n      return  {...posts , loading: payload }\r\n    default:\r\n      return posts;\r\n  }\r\n};\r\n","import {\r\n  AUTH,\r\n  LOGOUT,\r\n  REQUEST_AUTH,\r\n  GOOGLE_AUTH,\r\n} from \"../constant/actionTypes\";\r\n\r\nconst initialUser = {\r\n  authData: null,\r\n  loading: false,\r\n  googleLoading: false,\r\n  userId: \"\",\r\n};\r\n\r\nexport default function AuthReducer(user = initialUser, action) {\r\n  switch (action.type) {\r\n    case AUTH:\r\n      localStorage.setItem(\"profile\", JSON.stringify({ ...action.payload }));\r\n      return { ...user, authData: action.payload.result, loading: false };\r\n    case LOGOUT:\r\n      localStorage.clear();\r\n\r\n      return { ...user, authData: null, loading: false };\r\n    case REQUEST_AUTH:\r\n      return { ...user, loading: action.payload };\r\n    default:\r\n      return user;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport { undoable } from \"redux-undo-action\";\r\n\r\nimport posts from \"./post\";\r\nimport auth from \"./auth\";\r\n\r\nexport const reducers = combineReducers({ posts: undoable(posts), auth });\r\n","import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"/\",\r\n});\r\n\r\nAPI.interceptors.request.use((req) => {\r\n  if (localStorage.getItem('profile')) {\r\n    req.headers.authorization = `Bearer ${JSON.parse(localStorage.getItem('profile')).token}`;\r\n  }\r\n\r\n  return req;\r\n});\r\n\r\nexport const fetchPosts = () => API.get('/posts');\r\nexport const createPost = (newPost) => API.post('/posts', newPost);\r\nexport const likePost = (id) => API.patch(`/posts/${id}/likePost`);\r\nexport const unlikePost = (id) => API.patch(`/posts/${id}/unlikePost`);\r\nexport const updatePost = (id, updatedPost) => API.patch(`/posts/${id}`, updatedPost);\r\nexport const deletePost = (id) => API.delete(`/posts/${id}`);\r\n\r\nexport const signIn = (formData) => API.post('/user/signin', formData);\r\nexport const signUp = (formData) => API.post('/user/signup', formData);\r\n\r\nexport const googleLogin =  (formData) => API.post('/user/googlelogin', formData);","import {\r\n  FETCH_ALL,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n  LIKE,\r\n  REQUEST,\r\n} from \"../constant/actionTypes\";\r\nimport { Notify } from \"notiflix\";\r\nimport * as api from \"../api\";\r\nimport { undo } from \"redux-undo-action\";\r\n\r\nconst remove = (id) => {  return {type: DELETE, payload: id }} \r\n\r\nconst changeLikeCount = (id, getState, isLikeByMe) => {\r\n  let posts = getState().posts?.posts ?? [];\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n  let userId = user?.result?._id ?? \"\";\r\n  let  post = posts.find(p => p._id === id);\r\n\r\n  if (post) {\r\n    post = {\r\n      ...post,\r\n      likeUser: isLikeByMe\r\n        ? post.likeUser.filter((p) => p !== userId)\r\n        : [...post.likeUser, userId],\r\n      likeNumber: isLikeByMe ? post.likeNumber - 1 : post.likeNumber + 1,\r\n    };\r\n  }\r\n\r\n  return { type: LIKE, payload: post }\r\n};\r\n\r\n\r\n// action creators\r\nexport const getPosts = () => async (dispatch) => {\r\n  try {\r\n    var { data } = await api.fetchPosts();\r\n    dispatch({ type: FETCH_ALL, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n    Notify.Failure(error.message);\r\n  }\r\n};\r\n\r\nexport const createPost = (post) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REQUEST, payload: true });\r\n    var { data } = await api.createPost(post);\r\n    dispatch({ type: CREATE, payload: data });\r\n    Notify.Success(\"Post created..\");\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    Notify.Failure(error.message);\r\n  }\r\n};\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n  try {\r\n    dispatch({type:REQUEST,payload:true})\r\n    const { data } = await api.updatePost(id, post);\r\n    dispatch({ type: UPDATE, payload: data });\r\n  } catch (error) {\r\n    console.log(error);\r\n    Notify.Failure(error.message);\r\n  }\r\n};\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n   const optimisticAction = remove(id);\r\n   dispatch(optimisticAction);\r\n  try {\r\n    await api.deletePost(id);\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch(undo(optimisticAction));\r\n    Notify.Failure(error.message);\r\n  }\r\n};\r\n\r\nexport const changeLike = (id, isLikeByMe) => async (dispatch, getState) => {\r\n  const optimisticAction = changeLikeCount(id, getState, isLikeByMe);\r\n  dispatch(optimisticAction);\r\n  try {\r\n    if (!isLikeByMe) {\r\n      const { data } = await api.likePost(id);\r\n      dispatch({ type: LIKE, payload: data.postData });\r\n    } else {\r\n      const { data } = await api.unlikePost(id);\r\n      dispatch({ type: LIKE, payload: data.postData });\r\n    }\r\n  } catch (error) {\r\n    dispatch(undo(optimisticAction));\r\n    const { response } = error;\r\n    const { request, ...errorObject } = response; // take everything but 'request'\r\n\r\n    if (error.response) {\r\n      // client received an error response (5xx, 4xx)\r\n      Notify.Failure(response.data.message);\r\n    } else if (error.request) {\r\n      // client never received a response, or request never left\r\n      Notify.Failure(error.message);\r\n    } else {\r\n      // anything else\r\n      Notify.Failure(error.message);\r\n    }\r\n  }\r\n};\r\n\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles({\r\n  media: {\r\n    height: 0,\r\n    paddingTop: \"56.25%\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n    backgroundBlendMode: \"darken\",\r\n  },\r\n  border: {\r\n    border: \"solid\",\r\n  },\r\n  fullHeightCard: {\r\n    height: \"100%\",\r\n  },\r\n  card: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    borderRadius: \"15px\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n  },\r\n  overlay: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    left: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  overlay2: {\r\n    position: \"absolute\",\r\n    top: \"20px\",\r\n    right: \"20px\",\r\n    color: \"white\",\r\n  },\r\n  grid: {\r\n    display: \"flex\",\r\n  },\r\n  details: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    margin: \"20px\",\r\n  },\r\n  title: {\r\n    padding: \"0 16px\",\r\n  },\r\n  cardActions: {\r\n    padding: \"0 16px 8px 16px\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n});\r\n","import React, { useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  Typography,\r\n} from \"@material-ui/core/\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\nimport ThumbUpAltOutlined from \"@material-ui/icons/ThumbUpAltOutlined\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost, likePost, changeLike } from \"../../../actions/post\";\r\nimport useStyles from \"./styles\";\r\n\r\nfunction Post({ post, setCurrentId }) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  let isLikeByMe = post?.likeUser.includes(user?.result?._id ?? \"\");\r\n  let isCreatedByMe = user?.result?._id === post.creator;\r\n\r\n  const Likes = () => {\r\n    const likeNumber = post.likeNumber;\r\n    if (likeNumber > 0) {\r\n      return isLikeByMe ? (\r\n        <>\r\n          <ThumbUpAltIcon fontSize=\"small\" />\r\n          &nbsp;\r\n          {likeNumber > 2\r\n            ? `You and ${likeNumber - 1} others`\r\n            : `${likeNumber} like${likeNumber > 1 ? \"s\" : \"\"}`}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ThumbUpAltOutlined fontSize=\"small\" />\r\n          &nbsp;{likeNumber} {likeNumber === 1 ? \"Like\" : \"Likes\"}\r\n        </>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <ThumbUpAltOutlined fontSize=\"small\" />\r\n        &nbsp;Like\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardMedia\r\n        className={classes.media}\r\n        image={post.selectedFile}\r\n        title={post.title}\r\n      />\r\n      <div className={classes.overlay}>\r\n        <Typography variant=\"h6\">{post.userName}</Typography>\r\n        <Typography variant=\"body2\">\r\n          {moment(post.createdAt).fromNow()}\r\n        </Typography>\r\n      </div>\r\n      <div className={classes.overlay2}>\r\n        {isCreatedByMe && (\r\n          <Button\r\n            style={{ color: \"white\", minWidth: 0 }}\r\n            size=\"small\"\r\n            onClick={() => {\r\n              setCurrentId(post._id);\r\n              window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n            }}\r\n          >\r\n            <MoreHorizIcon fontSize=\"default\" />\r\n          </Button>\r\n        )}\r\n      </div>\r\n      <div className={classes.details}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\r\n          {post.tags.map((tag) => `#${tag} `)}\r\n        </Typography>\r\n      </div>\r\n      <Typography\r\n        className={classes.title}\r\n        gutterBottom\r\n        variant=\"h5\"\r\n        component=\"h2\"\r\n      >\r\n        {post.title}\r\n      </Typography>\r\n      <CardContent>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {post.message}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions className={classes.cardActions}>\r\n        <Button\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          disabled={!user?.result}\r\n          onClick={() => dispatch(changeLike(post._id, isLikeByMe))}\r\n        >\r\n          <Likes />\r\n        </Button>\r\n        {isCreatedByMe && (\r\n          <Button\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            disabled={!user?.result}\r\n            onClick={() => dispatch(deletePost(post._id))}\r\n            style={{ minWidth: 0 }}\r\n          >\r\n            <DeleteIcon fontSize=\"small\" />\r\n          </Button>\r\n        )}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  smMargin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  actionDiv: {\r\n    textAlign: \"center\",\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Grid, CircularProgress, Paper, Typography } from \"@material-ui/core\";\r\nimport Post from \"./Post/Post\";\r\nimport useStyles from \"./styles\";\r\n\r\nfunction Posts({ setCurrentId }) {\r\n  let posts = useSelector((state) => state.posts.posts);\r\n  const classes = useStyles();\r\n  // posts = undefined\r\n  if(!posts)\r\n  {\r\n    return <CircularProgress className={classes.circularProgress} />;\r\n  }\r\n\r\n  return posts.length===0 ? (\r\n   <Paper>\r\n      <Typography variant=\"h6\" align=\"center\">\r\n        No post made , be the  first to post\r\n      </Typography>\r\n    </Paper>\r\n  ) : (\r\n    <Grid\r\n      className={classes.container}\r\n      container\r\n      alignItems=\"stretch\"\r\n      spacing={3}\r\n    >\r\n      {posts.map((post) => {\r\n        return (\r\n          <Grid key={post._id} item xs={12} sm={4} md={6} >\r\n            <Post post={post}   setCurrentId={setCurrentId } />\r\n          </Grid>\r\n        );\r\n      })}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Posts;\r\n","import { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    \"& .MuiTextField-root\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n  },\r\n  fileInput: {\r\n    width: \"97%\",\r\n    margin: \"10px 0\",\r\n  },\r\n  buttonSubmit: {\r\n    marginBottom: 10,\r\n  },\r\n}));\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { TextField, Button, Typography, Paper } from \"@material-ui/core\";\r\nimport FileBase from \"react-file-base64\";\r\nimport { Notify } from \"notiflix\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport useStyles from \"./styles\";\r\nimport { createPost, updatePost } from \"../../actions/post\";\r\n\r\nfunction Form({ currentId, setCurrentId }) {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    message: \"\",\r\n    tags: \"\",\r\n    selectedFile: \"\",\r\n  });\r\n  const [status, setStatus] = useState(false);\r\n  const post = useSelector((state) =>\r\n    currentId ? state.posts.posts.find((post) => post._id === currentId) : null\r\n  );\r\n  var loading = useSelector((state) => state.posts.loading);\r\n\r\n  var user = JSON.parse(localStorage.getItem('profile'))\r\n  \r\n  useEffect(() => {\r\n    console.log(\"running form\");\r\n    if (post) setPostData(post);\r\n  }, [post]);\r\n\r\n  var handleSubmit = async (e) => {\r\n    try {\r\n      e.preventDefault();\r\n      if (postData.selectedFile.length > 0) {\r\n        if (currentId) {\r\n          dispatch(updatePost(currentId, postData));\r\n          setCurrentId(null);\r\n        } else {\r\n          dispatch(createPost({...postData , userName:user?.result?.name}));\r\n          window.scrollTo({ bottom: 0, behavior: \"smooth\" });\r\n        }\r\n        clear();\r\n        setStatus(false);\r\n      } else {\r\n        setStatus(true);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  var addValue = (e) => {\r\n    setPostData({ ...postData, [e.target.name]: e.target.value });\r\n  };\r\n  var clear = () => {\r\n    setPostData({\r\n      title: \"\",\r\n      message: \"\",\r\n      tags: \"\",\r\n      selectedFile: \"\",\r\n    });\r\n    setCurrentId(null);\r\n  };\r\n  if (!user?.result?.name) {\r\n    return (\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\" align=\"justify\">\r\n          Please Sign In to create your own memories and like other's memories.\r\n        </Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n  return (\r\n    <Paper className={classes.paper} id=\"main\">\r\n      <form\r\n        autoComplete=\"off\"\r\n        className={`${classes.root} ${classes.form}`}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <Typography variant=\"h6\">\r\n          {\" \"}\r\n          {currentId ? `Editing ${post.title}` : \"Creating a Memory\"}{\" \"}\r\n        </Typography>\r\n        <TextField\r\n          name=\"title\"\r\n          variant=\"outlined\"\r\n          label=\"Title\"\r\n          fullWidth\r\n          value={postData.title}\r\n          onChange={(e) => addValue(e)}\r\n          required\r\n        />\r\n        <TextField\r\n          name=\"message\"\r\n          variant=\"outlined\"\r\n          label=\"Message\"\r\n          fullWidth\r\n          multiline\r\n          row={4}\r\n          value={postData.message}\r\n          onChange={(e) => addValue(e)}\r\n          required\r\n        />\r\n        <TextField\r\n          name=\"tags\"\r\n          variant=\"outlined\"\r\n          label=\"Tags (coma separated)\"\r\n          fullWidth\r\n          value={postData.tags}\r\n          onChange={(e) =>\r\n            setPostData({ ...postData, tags: e.target.value.split(\",\") })\r\n          }\r\n          required\r\n        />\r\n        <div className={classes.fileInput}>\r\n          <FileBase\r\n            type=\"file\"\r\n            multiple={false}\r\n            onDone={({ base64 }) =>\r\n              setPostData({ ...postData, selectedFile: base64 })\r\n            }\r\n            required\r\n          />\r\n          {status && <p>Plz 🙏 include a image</p>}\r\n        </div>\r\n        <Button\r\n          className={classes.buttonSubmit}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          type=\"submit\"\r\n          fullWidth\r\n          disabled={loading}\r\n        >\r\n          Submit\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          size=\"small\"\r\n          onClick={clear}\r\n          fullWidth\r\n        >\r\n          Clear\r\n        </Button>\r\n      </form>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import {makeStyles} from '@material-ui/core/styles';\r\n\r\n\r\nexport default makeStyles((theme) => ({\r\n  circularProgress: {\r\n    display: \"grid\",\r\n  },\r\n  // it should be md but there is a bug in this version\r\n  // https://github.com/mui-org/material-ui/issues/13448\r\n  [theme.breakpoints.down(\"sm\")]: {\r\n    mainContainer: {\r\n      flexDirection: \"column-reverse\",\r\n    },\r\n    setMaxWidth: {\r\n      maxWidth: \"100%\",\r\n    },\r\n    form: {\r\n      alignSelf: \"center\",\r\n    },\r\n    appBar:\r\n    {\r\n       background: \"red\",\r\n    },\r\n  },\r\n}));","import React,{useState,useEffect} from 'react'\r\nimport { Container,  Grow, Grid } from \"@material-ui/core\";\r\nimport Posts from '../Posts/Posts';\r\nimport Form from '../Form/Form';\r\nimport { useDispatch } from 'react-redux';\r\nimport {getPosts } from '../../actions/post' ;\r\nimport useStyles from '../../styles';\r\n\r\n\r\nfunction Home() {\r\n    const [currentId, setCurrentId] = useState(null)\r\n    const classes=useStyles()\r\n    const dispatch = useDispatch()\r\n  \r\n    useEffect(() => {\r\n      dispatch(getPosts())\r\n      console.log(\"running home\");\r\n    }, [currentId,dispatch])\r\n\r\n    return (\r\n      <Grow in>\r\n        <Container>\r\n          <Grid\r\n            container\r\n            justify=\"space-between\"\r\n            alignItems=\"stretch\"\r\n            spacing={3}\r\n            className={classes.mainContainer}\r\n          >\r\n            <Grid item xs={12} sm={7} className={classes.setMaxWidth} item >\r\n              <Posts setCurrentId={setCurrentId} />\r\n            </Grid>\r\n            <Grid item xs={12} sm={5} className={classes.form} >\r\n              <Form  currentId={currentId} setCurrentId={setCurrentId} />\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </Grow>\r\n    );\r\n}\r\n\r\nexport default Home\r\n","export default __webpack_public_path__ + \"static/media/memories.9cfa8a46.png\";","import { makeStyles } from '@material-ui/core/styles';\r\nimport { deepPurple } from '@material-ui/core/colors';\r\n\r\nexport default makeStyles((theme) => ({\r\n  appBar: {\r\n    borderRadius: 15,\r\n    margin: \"30px 0\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: \"10px 50px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      flexWrap: \"wrap\",\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n  heading: {\r\n    color: \"rgba(0,183,255, 1)\",\r\n    textDecoration: \"none\",\r\n  },\r\n  image: {\r\n    marginLeft: \"15px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    width: \"100%\",\r\n    maxWidth: \"400px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n  profile: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    flexWrap:\"wrap\"\r\n  },\r\n  userName: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  brandContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n  purple: {\r\n    color: theme.palette.getContrastText(deepPurple[500]),\r\n    backgroundColor: deepPurple[500],\r\n  },\r\n  [theme.breakpoints.down(\"xs\")]: {\r\n    break:{\r\n      flexBasis: \"100%\",\r\n      height: \"0\"\r\n    },\r\n    profile:{\r\n      justifyContent:\"space-around\"\r\n    },\r\n    logout:{\r\n      marginTop:\"12px\"\r\n    }\r\n  },\r\n}));\r\n","import React , {useState,useEffect} from \"react\";\r\nimport {useDispatch} from 'react-redux'\r\nimport decode from 'jwt-decode'\r\nimport { AppBar, Avatar, Typography, Toolbar, Button } from \"@material-ui/core\";\r\nimport mem from \"../../images/memories.png\";\r\nimport { Link, useHistory , useLocation } from \"react-router-dom\";\r\nimport useStyles from \"./styles\";\r\nfunction Navbar() {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation()\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')))\r\n\r\n  useEffect(()=>{\r\n    const token = user?.token;\r\n    if (token) {\r\n      const decodedToken = decode(token);\r\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n    }\r\n    console.log(\"heey navbar\")\r\n    setUser(JSON.parse(localStorage.getItem('profile')))\r\n  },[setUser,location])\r\n\r\n  const logout = ()=>{\r\n    dispatch({type:'LOGOUT'})\r\n    history.push('/')\r\n    setUser(null)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n        <div className={classes.brandContainer}>\r\n          <Typography\r\n            component={Link}\r\n            to=\"/\"\r\n            className={classes.heading}\r\n            variant=\"h4\"\r\n            align=\"center\"\r\n          >\r\n            Memories\r\n          </Typography>\r\n          <img src={mem} alt=\"memeries\" className={classes.image} height=\"60\" />\r\n        </div>\r\n        <Toolbar className={classes.toolbar}>\r\n          {user ? (\r\n            <div className={classes.profile}>\r\n              <Avatar\r\n                className={classes.purple}\r\n                alt={user?.result.name}\r\n                src={user?.result.imageUrl}\r\n              >\r\n                {user?.result.name.charAt(0)}\r\n              </Avatar>\r\n              <Typography className={classes.userName} variant=\"h6\">\r\n                {user?.result.name}\r\n              </Typography>\r\n              <div className={classes.break}></div>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.logout}\r\n                color=\"secondary\"\r\n                onClick={logout}\r\n              >\r\n                Logout\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <Button\r\n              component={Link}\r\n              to=\"/auth\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Sign In\r\n            </Button>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(2),\r\n  },\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  googleButton: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n","import React from \"react\";\r\nimport { TextField, Grid, InputAdornment, IconButton } from \"@material-ui/core\";\r\n\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\n\r\nfunction Input({\r\n  name,\r\n  handleChange,\r\n  label,\r\n  half,\r\n  autoFocus,\r\n  type,\r\n  handleShowPassword,\r\n}) {\r\n  return (\r\n    <Grid item xs={12} sm={half ? 6 : 12}>\r\n      <TextField\r\n        name={name}\r\n        label={label}\r\n        onChange={handleChange}\r\n        variant=\"outlined\"\r\n        required\r\n        fullWidth\r\n        autoFocus={autoFocus}\r\n        type={type}\r\n        InputProps={\r\n          name === \"password\" ? {\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                <IconButton onClick={handleShowPassword}>\r\n                  {type === \"password\" ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            ),\r\n          } : null\r\n        }\r\n      />\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\n\r\nconst icon = () => (\r\n  <svg style={{ width: '20px', height: '20px' }} viewBox=\"0 0 24 24\">\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\"\r\n    />\r\n  </svg>\r\n);\r\n\r\nexport default icon;","import { AUTH, REQUEST_AUTH } from \"../constant/actionTypes\";\r\nimport { Notify } from \"notiflix\";\r\nimport * as api from \"../api/index.js\";\r\n\r\nexport const signin = (formData, router) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: REQUEST_AUTH, payload: true });\r\n    const { data } = await api.signIn(formData);\r\n    dispatch({ type: AUTH, payload: data });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    dispatch({ type: REQUEST_AUTH, payload: false });\r\n    const { response } = error;\r\n    const { request, ...errorObject } = response; // take everything but 'request'\r\n    if (error.response) {\r\n      // client received an error response (5xx, 4xx)\r\n      Notify.Failure(response.data.message);\r\n    } else if (error.request) {\r\n      // client never received a response, or request never left\r\n      Notify.Failure(error.message);\r\n    } else {\r\n      // anything else\r\n      Notify.Failure(error.message);\r\n    }\r\n  }\r\n};\r\n\r\nexport const signup = (formData, router) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: \"REQUEST_AUTH\", payload: true });\r\n    const { data } = await api.signUp(formData);\r\n    dispatch({ type: AUTH, payload: data });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    const { response } = error;\r\n    dispatch({ type: REQUEST_AUTH, payload: false });\r\n    const { request, ...errorObject } = response; // take everything but 'request'\r\n\r\n    if (error.response) {\r\n      // client received an error response (5xx, 4xx)\r\n      Notify.Failure(response.data.message);\r\n    } else if (error.request) {\r\n      // client never received a response, or request never left\r\n      Notify.Failure(error.message);\r\n    } else {\r\n      // anything else\r\n      Notify.Failure(error.message);\r\n    }\r\n  }\r\n};\r\n\r\nexport const googleLogin = (formData, router) => async (dispatch) => {\r\n  try {\r\n    const { data } = await api.googleLogin(formData);\r\n\r\n    dispatch({ type: AUTH, payload: data });\r\n\r\n    router.push(\"/\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: REQUEST_AUTH, payload: false });\r\n    if (error?.response) {\r\n      // client received an error response (5xx, 4xx)\r\n      Notify.Failure(error.response.data.message);\r\n    } else if (error?.request) {\r\n      // client never received a response, or request never left\r\n      Notify.Failure(error.message);\r\n    } else {\r\n      // anything else\r\n      Notify.Failure(error.message);\r\n    }\r\n  }\r\n};\r\n","import React, { useState , useEffect } from \"react\";\r\nimport { useDispatch ,useSelector } from \"react-redux\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Notify } from \"notiflix\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport useStyles from \"./styles\";\r\nimport Input from \"./Input\";\r\nimport Icon from \"./Icon\";\r\nimport { signin , signup , googleLogin } from '../../actions/auth'\r\n\r\nconst initialState = {\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  confirmPassword: \"\",\r\n};\r\n\r\nfunction Auth({history}) {\r\n  \r\n  useEffect(()=>{\r\n    if(JSON.parse(localStorage.getItem('profile'))){\r\n        history.push('/')\r\n    }\r\n  })\r\n\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch()\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  var [showPassword, setShowPassword] = useState(false);\r\n  const [formData, setFormData] = useState(initialState);\r\n  const loading = useSelector(state => state.auth.loading)\r\n\r\n  const handleSubmit = (e) => {\r\n      e.preventDefault()\r\n      if (isSignup) {\r\n        formData.password === formData.confirmPassword ?\r\n        dispatch(signup(formData, history)) : Notify.Failure(\"Conform Password do not match\")\r\n      } else {\r\n        dispatch(signin(formData, history));\r\n      }\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n      setFormData({...formData, [e.target.name]:e.target.value})\r\n  };\r\n\r\n\r\n  const googleSuccess = async (res)=>{\r\n    const result =  res?.profileObj\r\n    const token = res?.tokenId  \r\n    try {\r\n        // dispatch({ type:\"AUTH\" , payload:{ result , token } })\r\n        // await axios.post('http://localhost:5000/user/googlelogin', {result , token})\r\n        // history.push('/')\r\n        dispatch(googleLogin({result,token},history))\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n  const googleError = (error)=>{\r\n    console.log(error);\r\n    Notify.Failure('Internet disconnected');\r\n  }\r\n\r\n\r\n  const switchMode = () => {\r\n    setFormData(initialState);\r\n    setIsSignup((prevIsSignup) => !prevIsSignup);\r\n    setShowPassword(false);\r\n  };\r\n\r\n  const handleShowPassword = () => setShowPassword((pre) => !pre);\r\n\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Paper className={classes.paper} elevation={3}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography variant=\"h5\">\r\n          {\" \"}\r\n          {isSignup ? \"Sign up\" : \"Sign in\"}{\" \"}\r\n        </Typography>\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <Grid container spacing={2}>\r\n            {isSignup && (\r\n              <>\r\n                <Input\r\n                  name=\"firstName\"\r\n                  label=\"First Name\"\r\n                  handleChange={handleChange}\r\n                  autoFocus\r\n                  half\r\n                />\r\n                <Input\r\n                  name=\"lastName\"\r\n                  label=\"Last Name\"\r\n                  handleChange={handleChange}\r\n                  half\r\n                />\r\n              </>\r\n            )}\r\n            <Input\r\n              name=\"email\"\r\n              label=\"Email Address\"\r\n              handleChange={handleChange}\r\n              type=\"email\"\r\n              autoFocus\r\n            />\r\n            <Input\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              handleChange={handleChange}\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              handleShowPassword={handleShowPassword}\r\n            />\r\n            {isSignup && (\r\n              <Input\r\n                name=\"confirmPassword\"\r\n                label=\"Repeat Password\"\r\n                handleChange={handleChange}\r\n                type=\"password\"\r\n              />\r\n            )}\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            disabled={loading}\r\n          >\r\n            {isSignup ? \"Sign Up\" : \"Sign In\"}\r\n          </Button>\r\n          <GoogleLogin\r\n            clientId={process.env.REACT_APP_CLIENT_ID}\r\n            render={(renderProps) => (\r\n              <Button\r\n                className={classes.googleButton}\r\n                color=\"primary\"\r\n                fullWidth\r\n                onClick={renderProps.onClick}\r\n                disabled={renderProps.disabled}\r\n                startIcon={<Icon />}\r\n                variant=\"contained\"\r\n              >\r\n                Google Sign In\r\n              </Button>\r\n            )}\r\n            onSuccess={googleSuccess}\r\n            onFailure={googleError}\r\n            cookiePolicy=\"single_host_origin\"\r\n          />\r\n          <Grid container justify=\"center\">\r\n            <Grid item>\r\n              <Button onClick={switchMode}>\r\n                {isSignup\r\n                  ? \"Already have an account? Sign in\"\r\n                  : \"Don't have an account? Sign Up\"}\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Auth;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { Notify } from \"notiflix\";\r\nimport Home from \"./components/Home/Home\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Auth from \"./components/Auth/Auth\";\r\n\r\nfunction App() {\r\n  Notify.Init({\r\n    closeButton: true,\r\n    failure: { notiflixIconColor: \"rgba(0,0,0,0.655)\"  }\r\n  });\r\n  return (\r\n    <BrowserRouter>\r\n        <Container maxWidth=\"lg\">\r\n          <Navbar />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={Home} />\r\n            <Route path=\"/auth\" exact component={Auth} />\r\n          </Switch>\r\n        </Container>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport { createStore, applyMiddleware } from \"redux\";\r\n\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { reducers } from \"./reducers\";\r\n\r\nimport App from \"./App\";\r\nimport './index.css'\r\n\r\nconst store = createStore(reducers, composeWithDevTools(applyMiddleware( thunk )));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}